# CLOUD_DEPLOY_PLAN.md

## 1. MVP 云部署目标

- 提供一个可在线访问的演示入口（可选）。
- 不影响线下兜底演示能力。

## 2. 推荐部署路径（从稳到快）

1. **本地优先 + 录屏兜底**（最稳）
2. **Railway/Render 部署应用**（最快上线）
3. **可选接 PostgreSQL**（Neon/Supabase）

## 3. 部署最小清单

- 运行入口：`python app.py`
- Python 依赖：`requirements.txt`
- 环境变量：`.env`（线上改平台 Secret）
- 健康检查：`/health`（后续代码补）

## 4. 建议架构（MVP）

- App Service（Python）
- Optional DB（PostgreSQL）
- 日志输出（平台日志）

## 5. 发布流程

1. 准备部署分支（冻结功能）
2. 设置环境变量（见 `ENV_TEMPLATE.md`）
3. 部署后执行一次演示样例
4. 若失败，回滚到本地 demo 模式

## 6. 风险与回退

- 风险：网络抖动 / 模型超时 / 云平台冷启动
- 回退：
  1. 切换本地运行
  2. 使用固定样例 + 预生成输出
  3. 按 `DEMO_SCRIPT.md` 离线话术演示

## 7. 明天建议

- 上午优先本地跑通
- 中午后再尝试云部署
- 14:45 后停止环境变更，仅做彩排

## 8. 验收标准

- [ ] 有可运行入口
- [ ] 环境变量齐全
- [ ] 演示链路成功一次
- [ ] 失败时可在 3 分钟内切回本地
